# Modern Art Portfolio - Backend Environment Configuration
# Copy this file to .env and configure for your environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=4000
NODE_ENV=development  # development | production

# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000

# =============================================================================
# CONTENT & MEDIA PATHS
# =============================================================================
# Development (Windows): E:/mnt/lupoportfolio/content
# Production (Linux):     /mnt/lupoportfolio/content
# Docker:                 /mnt/lupoportfolio/content
CONTENT_DIRECTORY=/mnt/lupoportfolio/content
IMAGES_DIRECTORY=/mnt/lupoportfolio/content

# =============================================================================
# DATABASE
# =============================================================================
# Relative path (creates in backend/data directory)
DATABASE_PATH=./data/portfolio.sqlite

# Redis for caching and rate limiting
REDIS_URL=redis://localhost:6379

# =============================================================================
# SECURITY (CHANGE IN PRODUCTION!)
# =============================================================================
# Generate secure random strings for production:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production
IP_SALT=change-this-in-production

# Rate limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# =============================================================================
# IMAGE PROCESSING
# =============================================================================
MAX_IMAGE_SIZE=50000000
SUPPORTED_FORMATS=jpg,jpeg,png,webp,avif,gif,tiff,bmp

# Quality settings (0-100)
IMAGE_QUALITY_WEBP=75
IMAGE_QUALITY_AVIF=50
IMAGE_QUALITY_JPEG=80

# Responsive image widths (comma-separated)
IMAGE_SIZES=640,750,828,1080,1200,1920,2048,3840

# =============================================================================
# FEATURES
# =============================================================================
ENABLE_COMMENTS=true
ENABLE_REACTIONS=true
ENABLE_REAL_TIME=true

# =============================================================================
# EMAIL (Optional - for contact forms)
# =============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
ADMIN_EMAIL=

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
ENABLE_LOGGING=true
LOG_LEVEL=info  # error | warn | info | debug

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
# Production Environment:
#   - Set NODE_ENV=production
#   - Generate new JWT_SECRET and IP_SALT
#   - Update CONTENT_DIRECTORY to /mnt/lupoportfolio/content
#   - Set FRONTEND_URL to your production domain
#   - Configure SMTP for email functionality
#   - Consider using a reverse proxy (nginx) for SSL
#
# Side-by-side Dev/Prod:
#   - Dev server: PORT=4000, different DATABASE_PATH
#   - Prod server: PORT=4001, different DATABASE_PATH
#   - Use systemd or docker-compose to manage both
